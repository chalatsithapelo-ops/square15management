# Application Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================

# Application name (used for Docker container naming)
APP_NAME=sqr15-prop-management-system

# Environment: development or production
NODE_ENV=development

# Base URL for the application (used in emails, PDFs, and links)
# CRITICAL: This MUST be set to the actual external URL where your application is accessible
# 
# For local development:
#   BASE_URL=http://localhost:8000
# 
# For preview deployments:
#   BASE_URL=https://preview-1z2ej1y9mvgh2n609ri4sy.codapt.app
# 
# For production deployments:
#   BASE_URL=https://your-domain.com
# 
# This URL is used for:
# - Links in email notifications (customer portal, CRM, etc.)
# - PDF generation (invoices, reports, statements)
# - File storage URLs (MinIO/object storage)
# - Push notification configuration
# 
# If this is set incorrectly:
# - Email links will be broken
# - File uploads/downloads may not work
# - Customer portal links will fail
BASE_URL=http://localhost:8000

# Template for other ports (used internally)
BASE_URL_OTHER_PORT=http://localhost:[PORT]

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================

# Network interface to bind services to
# Use 0.0.0.0 to allow external access (required for VM deployments)
# Use 127.0.0.1 to restrict access to localhost only (more secure for local development)
LISTEN_IP=0.0.0.0

# ============================================================================
# DEMO DATA SEEDING
# ============================================================================

# Set to "true" to seed demo data on startup (leads, orders, projects, etc.)
# This is disabled by default to speed up startup time
# Uncomment the line below to enable demo data seeding
# SEED_DEMO_DATA=true

# ============================================================================
# SECURITY CREDENTIALS
# ============================================================================

# Admin password for MinIO and Adminer
# Generate with: openssl rand -base64 32
ADMIN_PASSWORD=your-secure-admin-password-here

# JWT secret for authentication tokens
# Generate with: openssl rand -base64 32
JWT_SECRET=your-secure-jwt-secret-here

# Google Gemini API key for AI features
# Get your key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here

# Google AI SDK expects this specific environment variable name
# Should be set to the same value as GEMINI_API_KEY
GOOGLE_GENERATIVE_AI_API_KEY=your-gemini-api-key-here

# Anthropic API key (optional). If set and DEFAULT_AI_PROVIDER=anthropic,
# the system will prefer Anthropic models (e.g. Claude Haiku 4.5) for AI features.
ANTHROPIC_API_KEY=your-anthropic-api-key-here

# Which AI provider to prefer by default (optional). Supported: "google", "anthropic"
# If unset, the system will prefer Anthropic when ANTHROPIC_API_KEY is present, otherwise Google.
# DEFAULT_AI_PROVIDER=anthropic

# Default Anthropic model (optional)
# DEFAULT_ANTHROPIC_MODEL=claude-4-5-haiku

# Default Google (Gemini) model (optional)
# DEFAULT_GOOGLE_MODEL=gemini-2.0-flash-exp

# ============================================================================
# COMPANY INFORMATION
# ============================================================================

# Company details (used in invoices, quotations, and PDFs)
COMPANY_NAME="Your Company Name"
COMPANY_ADDRESS_LINE1="123 Main Street"
COMPANY_ADDRESS_LINE2="City, Postal Code"
COMPANY_PHONE=+1234567890
COMPANY_EMAIL=contact@yourcompany.com
COMPANY_VAT_NUMBER=1234567890

# ============================================================================
# BRAND COLORS
# ============================================================================

# Brand colors (must be valid hex codes with #)
# These colors are used throughout the application UI and in PDFs
BRAND_PRIMARY_COLOR=#2D5016
BRAND_SECONDARY_COLOR=#F4C430
BRAND_ACCENT_COLOR=#5A9A47
BRAND_SUCCESS_COLOR=#10b981
BRAND_WARNING_COLOR=#f59e0b
BRAND_DANGER_COLOR=#dc2626

# ============================================================================
# BANKING DETAILS
# ============================================================================

# Banking information (used in invoices and statements)
COMPANY_BANK_NAME="Your Bank Name"
COMPANY_BANK_ACCOUNT_NAME="Your Account Name"
COMPANY_BANK_ACCOUNT_NUMBER=1234567890
COMPANY_BANK_BRANCH_CODE=123456

# ============================================================================
# DOCUMENT PREFIXES
# ============================================================================

# Prefixes for document numbering
COMPANY_INVOICE_PREFIX=INV
COMPANY_ORDER_PREFIX=ORD
COMPANY_QUOTATION_PREFIX=QUO

# ============================================================================
# EMAIL CONFIGURATION
# ============================================================================

# SMTP server settings for sending emails
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false

# Email credentials
SMTP_USER=your-email@gmail.com

# For Gmail: Use an App Password (not your regular password)
# Generate at: https://myaccount.google.com/apppasswords
# See GMAIL_APP_PASSWORD_SETUP.md for detailed instructions
SMTP_PASSWORD=your-app-password-here

# ============================================================================
# WEB PUSH NOTIFICATIONS (Optional)
# ============================================================================

# VAPID keys for Web Push notifications (allows notifications even when app is closed)
# Generate keys with: npx web-push generate-vapid-keys
# These are optional - if not set, push notifications will be disabled
# VAPID_PUBLIC_KEY=your-vapid-public-key-here
# VAPID_PRIVATE_KEY=your-vapid-private-key-here
# VAPID_SUBJECT=mailto:your-email@example.com

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# Database connection URL for Prisma
# For Docker Compose setup, use the default below
# For managed PostgreSQL database, replace with your connection string
DATABASE_URL=postgresql://postgres:postgres@postgres/app

# If using a managed Redis instance, uncomment and configure:
# REDIS_URL=redis://host:6379

# ============================================================================
# DEPLOYMENT CONFIGURATION (Optional - for preview deployments)
# ============================================================================

# Preview deployment image (used in compose.preview.yaml)
# PREVIEW_IMAGE=ghcr.io/your-org/your-repo:pr-123

# Preview deployment port (default: 8000)
# PREVIEW_PORT=8000

# Preview deployment name (used for network naming)
# PREVIEW_NAME=pr-123

# ============================================================================
# NOTES
# ============================================================================

# Security Best Practices:
# 1. Never commit the actual .env file to version control
# 2. Use strong, randomly generated passwords
# 3. Rotate credentials regularly
# 4. Use different credentials for development, staging, and production
# 5. For Gmail, always use App Passwords, never your account password

# For more information:
# - Email setup: See EMAIL_CONFIGURATION_GUIDE.md
# - Gmail setup: See GMAIL_APP_PASSWORD_SETUP.md
# - Deployment: See PREVIEW_DEPLOYMENT.md
# - Troubleshooting: See DEPLOYMENT_TROUBLESHOOTING.md
